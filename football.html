<script type="text/javascript">document.write(decodeURIComponent(escape(window.atob(" PCFET0NUWVBFIGh0bWw+DQo8aHRtbCBsYW5nPSJlbiI+DQo8aGVhZD4NCiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+DQogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiPg0KICAgIDx0aXRsZT5Zb1NpblRWIC0gQ3JpY2tldCB8IEZvb3RiYWxsIHwgUGxheWluZyBYSSB8IE1hdGNoIFByZXZpZXc8L3RpdGxlPg0KICAgIDwhLS0gVXBkYXRlZCBzdGFuZGFyZCBDRE4gZm9yIFRhaWx3aW5kIENTUyAtLT4NCiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG4udGFpbHdpbmRjc3MuY29tIj48L3NjcmlwdD4NCiAgICA8bGluayBocmVmPScvZmF2aWNvLnBuZycgcmVsPSdpY29uJyB0eXBlPSdpbWFnZS94LWljb24nLz4NCiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vd3d3Lnlvc2ludHYubGluay9zdHlsZS5jc3MiPg0KICAgIA0KICAgIDwhLS0gQ1JJVElDQUwgRklYOiBBZGRlZCAvYWRzYnlnb29nbGUuanMgdG8gdGhlIHNvdXJjZSBVUkwgdG8gZW5zdXJlIHRoZSBBZFNlbnNlIGxpYnJhcnkgbG9hZHMgY29ycmVjdGx5IC0tPg0KICAgIDxzY3JpcHQgYXN5bmMgc3JjPSJodHRwczovL3BhZ2VhZDIuZ29vZ2xlc3luZGljYXRpb24uY29tL3BhZ2VhZC9qcy9hZHNieWdvb2dsZS5qcz9jbGllbnQ9Y2EtcHViLTU1MjU1Mzg4MTA4MzkxNDciIGNyb3Nzb3JpZ2luPSJhbm9ueW1vdXMiPjwvc2NyaXB0Pg0KICAgIA0KPC9oZWFkPg0KPGJvZHkgY2xhc3M9ImJnLWdyYXktMTAwIHRleHQtZ3JheS05MDAiPg0KDQo8IS0tIEhlYWRlciBhbmQgTG9nbyAtLT4NCjxoZWFkZXI+DQogICAgPGRpdiBjbGFzcz0iaGVhZGVyLWNvbnRhaW5lciI+DQogICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vd3d3Lnlvc2luLXR2Lm5ldC8iPg0KICAgICAgICAgICAgPGltZyBzcmM9Imh0dHBzOi8vd2ViLmNyaWNmb290Lm5ldC9sb2dvLnBuZyIgYWx0PSJZb1NpblRWIiBzdHlsZT0iaGVpZ2h0OjY1cHg7Ij4NCiAgICAgICAgPC9hPg0KICAgICAgICA8bGFiZWwgY2xhc3M9InRvZ2dsZSI+DQogICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJkYXJrTW9kZVRvZ2dsZSI+DQogICAgICAgICAgICA8c3BhbiBjbGFzcz0ic2xpZGVyIj48L3NwYW4+DQogICAgICAgIDwvbGFiZWw+DQogICAgPC9kaXY+DQo8L2hlYWRlcj4NCg0KICAgIA0KPG1haW4gc3R5bGU9InBhZGRpbmctdG9wOiA3OHB4OyI+DQogICAgPGNlbnRlciBjbGFzcz0ibXktMyI+DQogICAgICAgIDxpbnMgY2xhc3M9ImFkc2J5Z29vZ2xlIiBzdHlsZT0iZGlzcGxheTpibG9jayIgZGF0YS1hZC1jbGllbnQ9ImNhLXB1Yi01NTI1NTM4ODEwODM5MTQ3Ig0KICAgICAgICAgICAgZGF0YS1hZC1zbG90PSI0MzQ1ODYyNDc5IiBkYXRhLWFkLWZvcm1hdD0iYXV0byIgZGF0YS1mdWxsLXdpZHRoLXJlc3BvbnNpdmU9InRydWUiPjwvaW5zPg0KICAgICAgICA8c2NyaXB0PihhZHNieWdvb2dsZSA9IHdpbmRvdy5hZHNieWdvb2dsZSB8fCBbXSkucHVzaCh7fSk7PC9zY3JpcHQ+DQogICAgPC9jZW50ZXI+DQogICAgPGRpdiBjbGFzcz0ibWF0Y2gtc2NoZWR1bGUtY29udGFpbmVyIj4gDQogICAgICAgIDxhIGhyZWY9Ii8/YWRzPWxpbmsiIGNsYXNzPSJibGlua2luZy1kb3QtY29udGFpbmVyIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtZmxleDthbGlnbi1pdGVtczpjZW50ZXI7Z2FwOjEwcHg7Zm9udC1mYW1pbHk6QXJpYWwsc2Fucy1zZXJpZjtmb250LXNpemU6MTZweDtmb250LXdlaWdodDpib2xkO3RleHQtZGVjb3JhdGlvbjpub25lO2NvbG9yOiMzMzM7dHJhbnNpdGlvbjpjb2xvciAwLjNzIGVhc2U7d2lkdGg6MTAwJTttYXJnaW46MDtwYWRkaW5nOjEwcHggMDt0ZXh0LWFsaWduOmNlbnRlcjtib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym9yZGVyOjJweCBzb2xpZCAjMzMzO2JvcmRlci1yYWRpdXM6MTBweDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOyIgb25tb3VzZW92ZXI9InRoaXMuc3R5bGUuY29sb3I9JyNmZjAwMDAnIiBvbm1vdXNlb3V0PSJ0aGlzLnN0eWxlLmNvbG9yPScjMzMzJyI+PHNwYW4gc3R5bGU9IndpZHRoOjEwcHg7aGVpZ2h0OjEwcHg7YmFja2dyb3VuZC1jb2xvcjpyZWQ7Ym9yZGVyLXJhZGl1czo1MCU7YW5pbWF0aW9uOmJsaW5rIDFzIGluZmluaXRlOyI+PC9zcGFuPiBXYXRjaCBDcmlja2V0IE1hdGNoZXM6IENsaWNrIEhlcmU8L2E+PHN0eWxlPkBrZXlmcmFtZXMgYmxpbmt7MCV7b3BhY2l0eToxfTUwJXtvcGFjaXR5OjB9MTAwJXtvcGFjaXR5OjF9fTwvc3R5bGU+DQogICAgICAgIDxoMiBjbGFzcz0ibGVhZ3VlLXRpdGxlIj4gVXBjb21pbmcgRm9vdGJhbGwgTWF0Y2hlczwvaDI+DQogICAgICAgIDxkaXYgaWQ9ImNyaWNrZXQtbGlzdCIgY2xhc3M9Im1hdGNoLXNjaGVkdWxlLWxpc3QiPg0KICAgICAgICA8IS0tIE1hdGNoIGNhcmRzIHdpbGwgYmUgaW5zZXJ0ZWQgaGVyZS4gUmVtb3ZlZCBpbml0aWFsIGxvYWRpbmcgdGV4dCBmb3IgYSBuYXR1cmFsIGxvYWQuIC0tPg0KICAgICAgICA8L2Rpdj4gDQoNCiAgICAgICAgPGNlbnRlciBjbGFzcz0ibXktNSI+DQogICAgICAgICAgICA8aW5zIGNsYXNzPSJhZHNieWdvb2dsZSIgc3R5bGU9ImRpc3BsYXk6YmxvY2siIGRhdGEtYWQtY2xpZW50PSJjYS1wdWItNTUyNTUzODgxMDgzOTE0NyINCiAgICAgICAgICAgICAgICBkYXRhLWFkLXNsb3Q9IjQzNDU4NjI0NzkiIGRhdGEtYWQtZm9ybWF0PSJhdXRvIiBkYXRhLWZ1bGwtd2lkdGgtcmVzcG9uc2l2ZT0idHJ1ZSI+PC9pbnM+DQogICAgICAgICAgICA8c2NyaXB0PihhZHNieWdvb2dsZSA9IHdpbmRvdy5hZHNieWdvb2dsZSB8fCBbXSkucHVzaCh7fSk7PC9zY3JpcHQ+DQogICAgICAgIDwvY2VudGVyPg0KICAgIDwvZGl2Pg0KDQo8IS0tIERNQ0EgYW5kIEZvb3RlciBTZWN0aW9ucyAtLT4NCiAgICA8c2VjdGlvbiBjbGFzcz0iZG1jYS1zZWN0aW9uIj4NCiAgICAgICAgPGgyIGNsYXNzPSJ0ZXh0LTJ4bCBmb250LWJvbGQgbWItMyI+WW9TaW5UViAtIERNQ0EgTm90aWNlPC9oMj4NCiAgICAgICAgPHAgY2xhc3M9InRleHQtc20gbGVhZGluZy1yZWxheGVkIj5Zb1NpblRWIERvZXNuJ3QgaG9zdCBhbnkgbWVkaWEgY29udGVudCBvbiBpdCBvd24gU2l0ZS4gT3VyIHNpdGUgdmlzaXRvcnMgbWlnaHQgdXNlIGV4dGVybmFsIG9yIHRoaXJkIHBhcnRpZXMgc2VydmljZXMgdG8gc2hvdyBjb250ZW50LCAoRXhhbXBsZTogRW1iZWRkaW5nIG1lZGlhIGZyb20gc2l0ZXMgbGlrZSBCZXQzNjUsIERhaWx5bW90aW9uICwgU3RyZWFtYWJsZSBldGMgLi4pIFdlIE5vdGlmeSBhbGwgY29weXJpZ2h0IG93bmVycywgdG8gZGlzY292ZXIgdGhhdCB0aGUgbGlua3MgYW5kIG1lZGlhIHNoYXJlZCBieSB2aXNpdG9ycyBhbmQgY29udGFpbmVkIHdpdGhpbiB0aGlzIHNpdGUgYXJlIGhvc3RlZCBzb21ld2hlcmUgZWxzZSBvbiB0aGUgd2ViIG9yIGVtYmVkZGVkIGZyb20gb3RoZXIgdmFyaW91cyBzaXRlcyBsaWtlIGFib3ZlLjwvcD4NCiAgICA8L3NlY3Rpb24+DQoNCiAgICA8Zm9vdGVyIGNsYXNzPSJmb290ZXIgdGV4dC1zbSI+DQogICAgICAgIDxhIGhyZWY9IiNhYm91dCIgY2xhc3M9InRleHQtYmx1ZS02MDAgaG92ZXI6dW5kZXJsaW5lIG14LTIiPkFib3V0PC9hPiDigKINCiAgICAgICAgPGEgaHJlZj0iI2NvbnRhY3QiIGNsYXNzPSJ0ZXh0LWJsdWUtNjAwIGhvdmVyOnVuZGVybGluZSBteC0yIj5Db250YWN0PC9hPiDigKINCiAgICAgICAgPGEgaHJlZj0iI3ByaXZhY3kiIGNsYXNzPSJ0ZXh0LWJsdWUtNjAwIGhvdmVyOnVuZGVybGluZSBteC0yIj5Qcml2YWN5IFBvbGljeTwvYT4NCiAgICA8L2Zvb3Rlcj4NCjwvbWFpbj4NCg0KPHNjcmlwdD4NCiAgICBsZXQgYWxsTWF0Y2hlcyA9IFtdOw0KICAgIGxldCB1cGRhdGVJbnRlcnZhbElkOw0KDQogICAgLy8gRGFyayBNb2RlIExvZ2ljIChLZXB0IGZvciB1c2VyJ3MgcHJlZmVyZW5jZSkNCiAgICBjb25zdCB0b2dnbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGFya01vZGVUb2dnbGUnKTsNCiAgICAvLyBTZXQgaW5pdGlhbCBzdGF0ZQ0KICAgIGNvbnN0IHVwZGF0ZVRoZW1lID0gKGlzRGFyaykgPT4gew0KICAgICAgICBpZiAoaXNEYXJrKSB7DQogICAgICAgICAgICAgLy8gV2Ugb25seSBuZWVkIHRvIHRvZ2dsZSB0aGUgJ2RhcmsnIGNsYXNzIGhlcmUuDQogICAgICAgICAgICAgLy8gVGhlIHJlc3Qgb2YgdGhlIHN0eWxpbmcgaXMgaGFuZGxlZCBieSB0aGUgQ1NTIHVzaW5nIC5kYXJrIHByZWZpeC4NCiAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2RhcmsnLCAnYmctZ3JheS05MDAnLCAndGV4dC1ncmF5LTEwMCcpOw0KICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnYmctZ3JheS0xMDAnLCAndGV4dC1ncmF5LTkwMCcpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnZGFyaycsICdiZy1ncmF5LTkwMCcsICd0ZXh0LWdyYXktMTAwJyk7DQogICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdiZy1ncmF5LTEwMCcsICd0ZXh0LWdyYXktOTAwJyk7DQogICAgICAgIH0NCiAgICB9Ow0KDQogICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdkYXJrTW9kZScpID09PSAndHJ1ZScpIHsNCiAgICAgICAgdXBkYXRlVGhlbWUodHJ1ZSk7DQogICAgICAgIHRvZ2dsZS5jaGVja2VkID0gdHJ1ZTsNCiAgICB9IGVsc2Ugew0KICAgICAgICB1cGRhdGVUaGVtZShmYWxzZSk7DQogICAgfQ0KICAgIA0KICAgIHRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7DQogICAgICAgIGNvbnN0IGlzQ2hlY2tlZCA9IHRvZ2dsZS5jaGVja2VkOw0KICAgICAgICB1cGRhdGVUaGVtZShpc0NoZWNrZWQpOw0KICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZGFya01vZGUnLCBpc0NoZWNrZWQpOw0KICAgIH0pOw0KDQogICAgLyoqDQogICAgICogRm9ybWF0cyBhbiBJU08gZGF0ZSBzdHJpbmcgaW50byBhIHJlYWRhYmxlIGxvY2FsIHRpbWUgc3RyaW5nIChlLmcuLCA2OjMwIFBNKS4NCiAgICAgKiBUaGlzIGFsc28gcmVtb3ZlcyBhbnkgcmlzayBvZiBkaXNwbGF5aW5nICd1bmRlZmluZWQnLg0KICAgICAqLw0KICAgIGZ1bmN0aW9uIGZvcm1hdE1hdGNoVGltZShpc29TdHJpbmcpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShpc29TdHJpbmcpOw0KICAgICAgICAgICAgaWYgKGlzTmFOKGRhdGUpKSByZXR1cm4gJ1RpbWUgVEJEJzsNCg0KICAgICAgICAgICAgY29uc3QgdGltZU9wdGlvbnMgPSB7IGhvdXI6ICdudW1lcmljJywgbWludXRlOiAnMi1kaWdpdCcsIGhvdXIxMjogdHJ1ZSB9Ow0KICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KHVuZGVmaW5lZCwgdGltZU9wdGlvbnMpLmZvcm1hdChkYXRlKTsNCiAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgcmV0dXJuICdUaW1lIFRCRCc7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBVcGRhdGVzIHRoZSB0ZXh0IGNvbnRlbnQgYW5kIGNsYXNzIG9mIHRoZSBjb3VudGRvd24vc3RhdHVzIGVsZW1lbnRzIG9ubHkuDQogICAgICogVGhpcyBydW5zIGV2ZXJ5IHNlY29uZCB0byBwcmV2ZW50IGNvbnRpbnVvdXMgRE9NIHJlLXJlbmRlcmluZyAoZmxpY2tlcikuDQogICAgICovDQogICAgZnVuY3Rpb24gdXBkYXRlQ291bnRkb3duRGlzcGxheSgpIHsNCiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTsNCiAgICAgICAgDQogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tYXRjaC1zdGF0dXMnKS5mb3JFYWNoKGVsID0+IHsNCiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoZWwuZGF0YXNldC50aW1lKS5nZXRUaW1lKCk7DQogICAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IChwYXJzZUludChlbC5kYXRhc2V0LmR1cmF0aW9uKSB8fCAyKSAqIDM2MDAwMDA7DQogICAgICAgICAgICBjb25zdCBlbmQgPSBzdGFydCArIGR1cmF0aW9uOw0KDQogICAgICAgICAgICBpZiAobm93ID49IGVuZCkgew0KICAgICAgICAgICAgICAgIC8vIE1hdGNoIGlzIE92ZXIgKEZpbmFsIFRpbWUpDQogICAgICAgICAgICAgICAgZWwudGV4dENvbnRlbnQgPSAnRU5EJzsNCiAgICAgICAgICAgICAgICBpZiAoIWVsLmNsYXNzTGlzdC5jb250YWlucygnbWF0Y2gtc3RhdHVzLW92ZXInKSkgew0KICAgICAgICAgICAgICAgICAgICAgZWwuY2xhc3NOYW1lID0gJ21hdGNoLXN0YXR1cyBtYXRjaC1zdGF0dXMtb3Zlcic7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIGlmIChub3cgPj0gc3RhcnQpIHsNCiAgICAgICAgICAgICAgICAvLyBNYXRjaCBpcyBMaXZlDQogICAgICAgICAgICAgICAgZWwudGV4dENvbnRlbnQgPSAnTElWRSc7DQogICAgICAgICAgICAgICAgaWYgKCFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ21hdGNoLXN0YXR1cy1saXZlJykpIHsNCiAgICAgICAgICAgICAgICAgICAgZWwuY2xhc3NOYW1lID0gJ21hdGNoLXN0YXR1cyBtYXRjaC1zdGF0dXMtbGl2ZSc7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAvLyBNYXRjaCBpcyBVcGNvbWluZyAoQ291bnRkb3duKQ0KICAgICAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBzdGFydCAtIG5vdzsNCiAgICAgICAgICAgICAgICBjb25zdCBkID0gTWF0aC5mbG9vcihkaWZmIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKTsNCiAgICAgICAgICAgICAgICBjb25zdCBoID0gTWF0aC5mbG9vcigoZGlmZiAlICgxMDAwICogNjAgKiA2MCAqIDI0KSkgLyAoMTAwMCAqIDYwICogNjApKTsNCiAgICAgICAgICAgICAgICBjb25zdCBtID0gTWF0aC5mbG9vcigoZGlmZiAlICgxMDAwICogNjAgKiA2MCkpIC8gKDEwMDAgKiA2MCkpOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGxldCBjb3VudGRvd25UZXh0ID0gJyc7DQogICAgICAgICAgICAgICAgaWYgKGRpZmYgPCAwKSB7DQogICAgICAgICAgICAgICAgICAgICBjb3VudGRvd25UZXh0ID0gJ1N0YXJ0aW5nIFNvb24nOw0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgY291bnRkb3duVGV4dCA9IGAke2R9ZCAke2h9aGA7DQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICBjb3VudGRvd25UZXh0ID0gYCR7aH1oICR7bX1tYDsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBjb25zdCBzID0gTWF0aC5mbG9vcigoZGlmZiAlICgxMDAwICogNjApKSAvIDEwMDApOw0KICAgICAgICAgICAgICAgICAgICBjb3VudGRvd25UZXh0ID0gYCR7bX1tICR7c31zYDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgZWwudGV4dENvbnRlbnQgPSBjb3VudGRvd25UZXh0Ow0KICAgICAgICAgICAgICAgIGlmICghZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdtYXRjaC1zdGF0dXMtY291bnRkb3duJykpIHsNCiAgICAgICAgICAgICAgICAgICAgZWwuY2xhc3NOYW1lID0gJ21hdGNoLXN0YXR1cyBtYXRjaC1zdGF0dXMtY291bnRkb3duJzsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0NCg0KICAgIC8vIEdlbmVyYXRlcyB0aGUgbWF0Y2ggY2FyZCBIVE1MDQogICAgZnVuY3Rpb24gY3JlYXRlQ2FyZChtKSB7DQogICAgICAgIC8vIC0tLSBBZGRlZCBzYWZlIHByb3BlcnR5IGFjY2VzcyB0byBwcmV2ZW50ICd1bmRlZmluZWQnIC0tLQ0KICAgICAgICBjb25zdCBkZXRhaWxzVXJsID0gbS5kZXRhaWxzX3VybCB8fCAnIyc7DQogICAgICAgIGNvbnN0IGNvbXBldGl0aW9uID0gbS5jb21wZXRpdGlvbiB8fCAnJzsgLy8gVXNlIGVtcHR5IHN0cmluZyBhcyBmYWxsYmFjaw0KICAgICAgICBjb25zdCB0ZWFtMU5hbWUgPSBtLnRlYW0xIHx8ICdIb21lIFRlYW0gVEJEJzsNCiAgICAgICAgY29uc3QgdGVhbTJOYW1lID0gbS50ZWFtMiB8fCAnQXdheSBUZWFtIFRCRCc7DQogICAgICAgIA0KICAgICAgICBjb25zdCBwbGFjZWhvbGRlckltZyA9ICJodHRwczovL3BsYWNlaG9sZC5jby80OHg0OC9jY2MvMzMzP3RleHQ9TCI7DQogICAgICAgIC8vIFVzZSBzYWZlIGZhbGxiYWNrIGZvciBsb2dvcyBhcyB3ZWxsDQogICAgICAgIGNvbnN0IHRlYW0xTG9nbyA9IG0udGVhbTFfbG9nbyB8fCBwbGFjZWhvbGRlckltZzsNCiAgICAgICAgY29uc3QgdGVhbTJMb2dvID0gbS50ZWFtMl9sb2dvIHx8IHBsYWNlaG9sZGVySW1nOw0KICAgICAgICANCiAgICAgICAgY29uc3QgbG9nb09uRXJyb3IgPSBgdGhpcy5vbmVycm9yPW51bGw7dGhpcy5zcmM9JyR7cGxhY2Vob2xkZXJJbWd9JztgOw0KICAgICAgICANCiAgICAgICAgY29uc3QgbG9jYWxUaW1lID0gZm9ybWF0TWF0Y2hUaW1lKG0uc3RhcnQgfHwgbS5tYXRjaF90aW1lKTsNCg0KICAgICAgICAvLyBDb25kaXRpb25hbCByZW5kZXJpbmcgb2YgdGhlIGNvbXBldGl0aW9uIGhlYWRlciAoTWF0Y2ggRGV0YWlscyB0ZXh0IHJlbW92ZWQpDQogICAgICAgIC8vIElmIGNvbXBldGl0aW9uIGlzIGVtcHR5LCB0aGUgZGl2IGlzIG5vdCByZW5kZXJlZCBhdCBhbGwuDQogICAgICAgIGNvbnN0IGNvbXBldGl0aW9uSGVhZGVyID0gY29tcGV0aXRpb24gPyANCiAgICAgICAgICAgIGA8ZGl2IGNsYXNzPSJtYXRjaC1oZWFkZXIiPiR7Y29tcGV0aXRpb259PC9kaXY+YCA6IA0KICAgICAgICAgICAgJyc7DQoNCiAgICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsNCiAgICAgICAgYS5ocmVmID0gZGV0YWlsc1VybDsgLy8gVXNlIHNhZmUgVVJMDQogICAgICAgIGEuY2xhc3NOYW1lID0gJ21hdGNoLWNhcmQnOw0KICAgICAgICBhLnRhcmdldCA9ICdfYmxhbmsnOw0KICAgICAgICBhLmRhdGFzZXQudGltZSA9IG0uc3RhcnQgfHwgbS5tYXRjaF90aW1lOw0KICAgICAgICBhLmRhdGFzZXQuZHVyYXRpb24gPSBtLmR1cmF0aW9uIHx8IDI7DQogICAgICAgIA0KICAgICAgICBhLmlubmVySFRNTCA9IGANCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1hdGNoLWNhcmQtY29udGVudCI+DQogICAgICAgICAgICAgICAgPCEtLSBUb3AgUm93OiBDb21wZXRpdGlvbi9NYXRjaCBEYXRlIChDb250ZXh0KSAtLT4NCiAgICAgICAgICAgICAgICAke2NvbXBldGl0aW9uSGVhZGVyfQ0KDQogICAgICAgICAgICAgICAgPCEtLSBNaWRkbGUgUm93OiBUZWFtcyBhbmQgU3RhdHVzIChUaGUgbWFpbiwgY2VudGVyZWQgcm93KSAtLT4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaC1yb3ctdGVhbXMiPg0KICAgICAgICAgICAgICAgICAgICA8IS0tIEhvbWUgVGVhbSAoTGVmdCwgQ29udGVudCBhbGlnbmVkIHJpZ2h0KSAtLT4NCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2gtdGVhbSBob21lIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJtYXRjaC10ZWFtLW5hbWUiPiR7dGVhbTFOYW1lfTwvcD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPSIke3RlYW0xTG9nb30iIGFsdD0iJHt0ZWFtMU5hbWV9IiBvbmVycm9yPSIke2xvZ29PbkVycm9yfSI+DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgPCEtLSBTdGF0dXMvQ2VudGVyIChUaW1lIGFib3ZlIENvdW50ZG93bikgLS0+DQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1hdGNoLWNlbnRlciI+DQogICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0ibWF0Y2gtbG9jYWwtdGltZSI+JHtsb2NhbFRpbWV9PC9wPiANCiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJtYXRjaC1zdGF0dXMiIGRhdGEtdGltZT0iJHttLnN0YXJ0IHx8IG0ubWF0Y2hfdGltZX0iIGRhdGEtZHVyYXRpb249IiR7bS5kdXJhdGlvbiB8fCAyfSI+TG9hZGluZy4uLjwvcD4NCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgICAgICAgICAgPCEtLSBBd2F5IFRlYW0gKFJpZ2h0LCBDb250ZW50IGFsaWduZWQgbGVmdCkgLS0+DQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1hdGNoLXRlYW0gYXdheSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz0iJHt0ZWFtMkxvZ299IiBhbHQ9IiR7dGVhbTJOYW1lfSIgb25lcnJvcj0iJHtsb2dvT25FcnJvcn0iPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9Im1hdGNoLXRlYW0tbmFtZSI+JHt0ZWFtMk5hbWV9PC9wPg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICBgOw0KICAgICAgICByZXR1cm4gYTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBDcmVhdGVzIHRoZSBtb2JpbGUtb25seSBhZCBlbGVtZW50IHdpdGggdGhlIHVzZXItc3BlY2lmaWVkIHNsb3QgSUQuDQogICAgICogVVBEQVRFRCB0byB1c2UgdGhlIDMyMHg1MCBmaXhlZCBzaXplIGFkIHVuaXQgKHNsb3QgODM4MTkwMDcwMykuDQogICAgICovDQogICAgZnVuY3Rpb24gY3JlYXRlQWRFbGVtZW50KCkgew0KICAgICAgICBjb25zdCBhZENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOw0KICAgICAgICAvLyAnYmxvY2sgbWQ6aGlkZGVuJyBlbnN1cmVzIGl0IG9ubHkgZGlzcGxheXMgb24gbW9iaWxlIHNjcmVlbnMgKHVwIHRvIDc2OHB4KS4NCiAgICAgICAgLy8gQWRkZWQgZmxleCBqdXN0aWZ5LWNlbnRlciB0byBwcm9wZXJseSBjZW50ZXIgdGhlIGZpeGVkIDMyMHB4IGFkLg0KICAgICAgICBhZENvbnRhaW5lci5jbGFzc05hbWUgPSAnbXktNSBmbGV4IGp1c3RpZnktY2VudGVyIGJsb2NrIG1kOmhpZGRlbic7IA0KICAgICAgICBhZENvbnRhaW5lci5pbm5lckhUTUwgPSBgIGA7DQogICAgICAgIHJldHVybiBhZENvbnRhaW5lcjsNCiAgICB9DQoNCiAgICAvLyBVUERBVEVEOiBJbnNlcnRzIG1vYmlsZSBhZHMgYWZ0ZXIgZXZlcnkgM3JkIGNhcmQuDQogICAgZnVuY3Rpb24gcmVuZGVyTWF0Y2hlcygpIHsNCiAgICAgICAgY29uc3QgbGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjcmlja2V0LWxpc3QnKTsNCiAgICAgICAgbGlzdC5pbm5lckhUTUwgPSAnJzsgDQogICAgICAgIA0KICAgICAgICBhbGxNYXRjaGVzLmZvckVhY2goKG1hdGNoLCBpbmRleCkgPT4gew0KICAgICAgICAgICAgLy8gMS4gQXBwZW5kIHRoZSBtYXRjaCBjYXJkDQogICAgICAgICAgICBsaXN0LmFwcGVuZENoaWxkKGNyZWF0ZUNhcmQobWF0Y2gpKTsNCg0KICAgICAgICAgICAgLy8gMi4gQ2hlY2sgaWYgaXQncyB0aGUgM3JkLCA2dGgsIDl0aCwgZXRjLiBjYXJkLCBhbmQgbm90IHRoZSBsYXN0IGNhcmQNCiAgICAgICAgICAgIGlmICgoaW5kZXggKyAxKSAlIDAgPT09IDAgJiYgaW5kZXggPCBhbGxNYXRjaGVzLmxlbmd0aCAtIDEpIHsgDQogICAgICAgICAgICAgICAgY29uc3QgYWRFbGVtZW50ID0gY3JlYXRlQWRFbGVtZW50KCk7DQogICAgICAgICAgICAgICAgbGlzdC5hcHBlbmRDaGlsZChhZEVsZW1lbnQpOw0KDQogICAgICAgICAgICAgICAgLy8gTm93LCBwdXNoIHRoZSBhZCB0byBBZFNlbnNlIHNvIGl0IGNhbiByZXF1ZXN0IGNvbnRlbnQNCiAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICAod2luZG93LmFkc2J5Z29vZ2xlID0gd2luZG93LmFkc2J5Z29vZ2xlIHx8IFtdKS5wdXNoKHt9KTsNCiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIkFkU2Vuc2UgcHVzaCBmYWlsZWQ6IiwgZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9DQogICAgDQogICAgLyoqDQogICAgICogQ2FsY3VsYXRlcyBzb3J0IHByaW9yaXR5LCBzb3J0cyB0aGUgbWF0Y2hlcyBhcnJheSwgYW5kIHJlbmRlcnMgdGhlIGxpc3Qgb25jZS4NCiAgICAgKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbiBpbml0aWFsIGxvYWQuDQogICAgICovDQogICAgZnVuY3Rpb24gc29ydEFuZEluaXRpYWxSZW5kZXIobWF0Y2hlc0FycmF5KSB7DQogICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7DQogICAgICAgIA0KICAgICAgICAvLyAxLiBDYWxjdWxhdGUgc29ydGluZyBwcmlvcml0eSBhbmQgdmFsdWUNCiAgICAgICAgYWxsTWF0Y2hlcyA9IG1hdGNoZXNBcnJheS5tYXAobSA9PiB7DQogICAgICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBuZXcgRGF0ZShtLnN0YXJ0IHx8IG0ubWF0Y2hfdGltZSkuZ2V0VGltZSgpOw0KICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSAocGFyc2VJbnQobS5kdXJhdGlvbikgfHwgMikgKiAzNjAwMDAwOyANCiAgICAgICAgICAgIGNvbnN0IGVuZFRpbWUgPSBzdGFydFRpbWUgKyBkdXJhdGlvbjsNCiAgICANCiAgICAgICAgICAgIGlmIChub3cgPj0gc3RhcnRUaW1lICYmIG5vdyA8IGVuZFRpbWUpIHsNCiAgICAgICAgICAgICAgICBtLnNvcnRQcmlvcml0eSA9IDE7IC8vIExpdmUvSW4tUHJvZ3Jlc3MNCiAgICAgICAgICAgICAgICBtLnNvcnRWYWx1ZSA9IHN0YXJ0VGltZTsgDQogICAgICAgICAgICB9IGVsc2UgaWYgKG5vdyA8IHN0YXJ0VGltZSkgew0KICAgICAgICAgICAgICAgIG0uc29ydFByaW9yaXR5ID0gMjsgLy8gVXBjb21pbmcNCiAgICAgICAgICAgICAgICBtLnNvcnRWYWx1ZSA9IHN0YXJ0VGltZTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgbS5zb3J0UHJpb3JpdHkgPSAzOyAvLyBGaW5pc2hlZA0KICAgICAgICAgICAgICAgIG0uc29ydFZhbHVlID0gZW5kVGltZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBtOw0KICAgICAgICB9KTsNCiAgICANCiAgICAgICAgLy8gMi4gU29ydCB0aGUgYXJyYXkNCiAgICAgICAgYWxsTWF0Y2hlcy5zb3J0KChhLCBiKSA9PiB7DQogICAgICAgICAgICBpZiAoYS5zb3J0UHJpb3JpdHkgIT09IGIuc29ydFByaW9yaXR5KSByZXR1cm4gYS5zb3J0UHJpb3JpdHkgLSBiLnNvcnRQcmlvcml0eTsNCiAgICAgICAgICAgIHJldHVybiBhLnNvcnRWYWx1ZSAtIGIuc29ydFZhbHVlOyANCiAgICAgICAgfSk7DQogICAgDQogICAgICAgIC8vIDMuIFJlbmRlciB0aGUgZnVsbCBtYXRjaCBsaXN0IHN0cnVjdHVyZSBvbmNlDQogICAgICAgIHJlbmRlck1hdGNoZXMoKTsgDQogICAgfQ0KDQogICAgLy8gTG9hZHMgZGF0YSBmcm9tIHRoZSBBUEkgYW5kIGluaXRpYXRlcyByZW5kZXJpbmcNCiAgICBhc3luYyBmdW5jdGlvbiBsb2FkTWF0Y2hlcygpIHsNCiAgICAgICAgaWYgKHVwZGF0ZUludGVydmFsSWQpIGNsZWFySW50ZXJ2YWwodXBkYXRlSW50ZXJ2YWxJZCk7IA0KDQogICAgICAgIC8vIFVQREFURUQ6IENoYW5nZWQgQVBJIGVuZHBvaW50IHRvIGZvb3RiYWxsLmpzb24NCiAgICAgICAgY29uc3QgYXBpVXJsID0gJ2h0dHBzOi8veW9zaW50di1hcGkucGFnZXMuZGV2L2FwaS9mb290YmFsbC5qc29uJzsgDQogICAgICAgIGNvbnN0IGxpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3JpY2tldC1saXN0Jyk7DQogICAgICAgIC8vIFJlbW92ZWQgZXhwbGljaXQgbG9hZGluZyBtZXNzYWdlIGZvciBuYXR1cmFsIGxvYWRpbmcgYmVoYXZpb3INCiAgICAgICAgbGlzdC5pbm5lckhUTUwgPSAnJzsgDQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGFwaVVybCk7DQogICAgICAgICAgICBpZiAoIXJlcy5vaykgew0KICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQVBJIGZhaWxlZCB3aXRoIHN0YXR1czogJHtyZXMuc3RhdHVzfS5gKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7DQogICAgICAgICAgICBsZXQgbWF0Y2hlc0FycmF5ID0gW107DQoNCiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpICYmIGRhdGEubGVuZ3RoID4gMCAmJiBBcnJheS5pc0FycmF5KGRhdGFbMF0/Lm1hdGNoZXMpKSB7DQogICAgICAgICAgICAgICAgbWF0Y2hlc0FycmF5ID0gZGF0YVswXS5tYXRjaGVzOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhICYmIEFycmF5LmlzQXJyYXkoZGF0YS5tYXRjaGVzKSkgew0KICAgICAgICAgICAgICAgIG1hdGNoZXNBcnJheSA9IGRhdGEubWF0Y2hlczsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkgew0KICAgICAgICAgICAgICAgICBtYXRjaGVzQXJyYXkgPSBkYXRhOw0KICAgICAgICAgICAgfSANCg0KICAgICAgICAgICAgaWYgKG1hdGNoZXNBcnJheS5sZW5ndGggPT09IDApIHsNCiAgICAgICAgICAgICAgICBsaXN0LmlubmVySFRNTCA9ICc8cCBjbGFzcz0idGV4dC1jZW50ZXIgdGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtZ3JheS01MDAgcHktMTAiPk5vIHVwY29taW5nIG1hdGNoZXMgZm91bmQuPC9wPic7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAvLyBJbml0aWFsIHNvcnQgYW5kIHJlbmRlcg0KICAgICAgICAgICAgc29ydEFuZEluaXRpYWxSZW5kZXIobWF0Y2hlc0FycmF5KTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8gU3RhcnQgdGhlIG5vbi1mbGlja2VyaW5nIGNvdW50ZG93biB0aW1lciAocnVucyBldmVyeSBzZWNvbmQpDQogICAgICAgICAgICB1cGRhdGVDb3VudGRvd25EaXNwbGF5KCk7DQogICAgICAgICAgICB1cGRhdGVJbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwodXBkYXRlQ291bnRkb3duRGlzcGxheSwgMTAwMCk7DQogICAgICAgICAgICANCiAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgbG9hZGluZyBtYXRjaGVzOiAke2UubWVzc2FnZX1gKTsNCiAgICAgICAgICAgIGxpc3QuaW5uZXJIVE1MID0gJzxwIGNsYXNzPSJ0ZXh0LWNlbnRlciB0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC1yZWQtNjAwIHB5LTEwIj7inYwgTWF0Y2ggTGlzdCBhcmUgbG9hZGluZywgUGxlYXNlIFdhaXQgISEgPC9wPic7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICB9DQoNCg0KICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBsb2FkTWF0Y2hlcyk7DQo8L3NjcmlwdD4NCg0KICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jb2RlLmpxdWVyeS5jb20vanF1ZXJ5LTMuNi4wLm1pbi5qcyI+PC9zY3JpcHQ+DQogIDxkaXYgaWQ9J2ZpeGVkYmFuJyBjbGFzcz0nZml4ZWQgYm90dG9tLTAgbGVmdC0xLzIgLXRyYW5zbGF0ZS14LTEvMiB6LVs5OTldJz4NCiAgICA8ZGl2IGNsYXNzPSdyZWxhdGl2ZSB3LVszMDBweF0gaC1bMjUwcHhdIGJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LXhsIGJvcmRlciBib3JkZXItZ3JheS0yMDAnPg0KICAgICAgPGJ1dHRvbiBpZD0nY2xvc2UtZml4ZWRiYW4nIGNsYXNzPSdhYnNvbHV0ZSBsZWZ0LTEvMiAtdHJhbnNsYXRlLXgtMS8yIHRvcC0zIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ibHVlLTYwMCBob3Zlcjp0ZXh0LWJsdWUtODAwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMCBjdXJzb3ItcG9pbnRlciB6LVsxMDAwXSc+Q2xvc2U8L2J1dHRvbj4NCiAgICAgIDxkaXYgY2xhc3M9J3ctWzMwMHB4XSBoLVsyNTBweF0gb3ZlcmZsb3ctaGlkZGVuIHB0LTgnPg0KICAgICAgICA8aW5zIGNsYXNzPSdhZHNieWdvb2dsZSBpbmxpbmUtYmxvY2sgdy1bMzAwcHhdIGgtWzI1MHB4XScgZGF0YS1hZC1jbGllbnQ9J2NhLXB1Yi01NTI1NTM4ODEwODM5MTQ3JyBkYXRhLWFkLXNsb3Q9JzU5MTIxOTQwMDQnPjwvaW5zPg0KICAgICAgICA8c2NyaXB0PihhZHNieWdvb2dsZSA9IHdpbmRvdy5hZHNieWdvb2dsZSB8fCBbXSkucHVzaCh7fSk7PC9zY3JpcHQ+DQogICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCiAgPC9kaXY+DQogICAgDQogIDxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0Jz4NCiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHsNCiAgICAgICQoJyNjbG9zZS1maXhlZGJhbicpLmNsaWNrKGZ1bmN0aW9uKCkgeyAkKCcjZml4ZWRiYW4nKS5oaWRlKDkwKTsgfSk7DQogICAgfSk7DQogIDwvc2NyaXB0Pg0KDQo8IS0tIFRlbGVncmFtIFBvcHVwIC0gWmVybyBjb25mbGljdHMgd2l0aCB5b3VyIGV4aXN0aW5nIENTUyAtLT4NCjxkaXYgY2xhc3M9InRneC1wb3B1cC1vdmVybGF5IiBpZD0idGd4UG9wdXAiPg0KICA8ZGl2IGNsYXNzPSJ0Z3gtcG9wdXAtYm94Ij4NCiAgICA8YnV0dG9uIGNsYXNzPSJ0Z3gtY2xvc2UtYnRuIiBvbmNsaWNrPSJjbG9zZVRneFBvcHVwKCkiPsOXPC9idXR0b24+DQoNCiAgICA8ZGl2IGNsYXNzPSJ0Z3gtaWNvbiI+DQogICAgICA8c3ZnIHZpZXdCb3g9IjAgMCAyNDAgMjQwIiB3aWR0aD0iODAiIGhlaWdodD0iODAiIGZpbGw9IndoaXRlIj4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTIwIiBjeT0iMTIwIiByPSIxMjAiLz4NCiAgICAgICAgPHBhdGggZD0iTTgxLjIgMTc0LjNjLTUuNCAwLTIuNy0yLTcuMy02LjRsLTE4LjQtNjAuNSAxMjcuMy00OS4xYzggMy41IDEyLjIgMS45IDE0LTUuOGwyMi43LTEwNi45YzMuMS0xMy44LTQuNy0yMC4xLTEyLjctMTYuNkw1Ny45IDEwNS44IDM2LjIgOTljLTkuNy0zLTkuOS05LjcgMS4yLTE0LjZsMTMxLjItNTAuN2MxMS4yLTQuNiAyMS4yIDIuOCAxNy4xIDE0LjZsLTIyLjQgMTA2LjljLTEuNiA3LjYtNiA5LjQtMTMuOCA1LjhMOTcuNiAxNTJsLTkuOSA5LjljLTMuMyAzLjMtNiA2LjQtNi41IDguNHoiIGZpbGw9IiMwMDg4Y2MiLz4NCiAgICAgIDwvc3ZnPg0KICAgIDwvZGl2Pg0KDQogICAgPGgyIGNsYXNzPSJ0Z3gtdGl0bGUiPkpvaW4gWW9TaW5UViBUZWxlZ3JhbSA8L2gyPg0KICAgIDxwIGNsYXNzPSJ0Z3gtdGV4dCI+TWF0Y2ggdXBkYXRlcywgbmV3cyAmIGhpZ2hsaWdodHMgISA8L3A+DQoNCiAgICA8YSBocmVmPSJodHRwczovL3QubWUveW9zaW50dmxpdmUiIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0idGd4LWpvaW4tYnRuIj4NCiAgICAgIENsaWNrIHRvIEpvaW4gQ2hhbm5lbA0KICAgIDwvYT4NCiAgPC9kaXY+DQo8L2Rpdj4NCg0KPHNjcmlwdD4NCiAgY29uc3QgdGd4UG9wdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGd4UG9wdXAnKTsNCiAgY29uc3QgU1RPUkFHRV9LRVkgPSAndGd4UG9wdXBMYXN0U2hvd24nOw0KICBjb25zdCBPTkVfREFZX01TID0gMjQgKiA2MCAqIDYwICogMTAwMDsgLy8gMjQgaG91cnMgaW4gbWlsbGlzZWNvbmRzDQoNCiAgZnVuY3Rpb24gc2hvdWxkU2hvd1BvcHVwKCkgew0KICAgIGNvbnN0IGxhc3RTaG93biA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfS0VZKTsNCiAgICBpZiAoIWxhc3RTaG93bikgcmV0dXJuIHRydWU7IC8vIG5ldmVyIHNlZW4NCiAgICBjb25zdCB0aW1lRGlmZiA9IERhdGUubm93KCkgLSBwYXJzZUludChsYXN0U2hvd24pOw0KICAgIHJldHVybiB0aW1lRGlmZiA+PSBPTkVfREFZX01TOyAvLyBzaG93IGFnYWluIG9ubHkgYWZ0ZXIgMjRoDQogIH0NCg0KICBmdW5jdGlvbiBtYXJrQXNTaG93bigpIHsNCiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWSwgRGF0ZS5ub3coKS50b1N0cmluZygpKTsNCiAgfQ0KDQogIGZ1bmN0aW9uIGNsb3NlVGd4UG9wdXAoKSB7DQogICAgdGd4UG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgndGd4LWFjdGl2ZScpOw0KICAgIG1hcmtBc1Nob3duKCk7IC8vIHVzZXIgY2xvc2VkIOKGkiBkb24ndCBzaG93IGZvciAyNCBob3Vycw0KICB9DQoNCiAgLy8gQXV0by1zaG93IGxvZ2ljDQogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkgew0KICAgIGlmIChzaG91bGRTaG93UG9wdXAoKSkgew0KICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgIHRneFBvcHVwLmNsYXNzTGlzdC5hZGQoJ3RneC1hY3RpdmUnKTsNCiAgICAgICAgbWFya0FzU2hvd24oKTsgLy8gY291bnQgYXMgInNlZW4iIGV2ZW4gaWYgdGhleSBkb24ndCBjbGljayBYIChvcHRpb25hbCkNCiAgICAgIH0sIDEyMDApOw0KICAgIH0NCiAgfSk7DQoNCiAgLy8gQ2xvc2Ugd2hlbiBjbGlja2luZyBvdXRzaWRlDQogIHRneFBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsNCiAgICBpZiAoZS50YXJnZXQgPT09IHRneFBvcHVwKSBjbG9zZVRneFBvcHVwKCk7DQogIH0pOw0KPC9zY3JpcHQ+DQogICAgDQogICAgDQo8IS0tIEJFR0lOOiBQb3dlcmVkIGJ5IFN1cGVyY291bnRlcnMuY29tIC0tPg0KICAgICAgPGRpdiBzdHlsZT0icG9zaXRpb246Zml4ZWQ7dG9wOjA7bGVmdDowO3dpZHRoOjEwMCU7aGVpZ2h0OjFweDtvdmVyZmxvdzpoaWRkZW47dmlzaWJpbGl0eTpoaWRkZW47ei1pbmRleDo5OTk5OyI+DQogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iLy93aWRnZXQuc3VwZXJjb3VudGVycy5jb20vc3NsL29ubGluZV9pLmpzIj48L3NjcmlwdD4NCiAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+c2Nfb25saW5lX2koMTcxNDQ0NiwiZmZmZmZmIiwiZmZmZmZmIik7PC9zY3JpcHQ+DQogICAgPG5vc2NyaXB0PjxhIGhyZWY9Imh0dHBzOi8vd3d3LnN1cGVyY291bnRlcnMuY29tLyIgc3R5bGU9InZpc2liaWxpdHk6aGlkZGVuOyI+ZnJlZSBvbmxpbmUgY291bnRlcjwvYT48L25vc2NyaXB0Pg0KICA8L2Rpdj4NCiAgICANCjwvYm9keT4NCjwvaHRtbD4NCg== "))));</script>
