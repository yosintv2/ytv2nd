<script type="text/javascript">document.write(decodeURIComponent(escape(window.atob(" PCFET0NUWVBFIGh0bWw+DQo8aHRtbCBsYW5nPSJlbiI+DQo8aGVhZD4NCiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+DQogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiPg0KICAgIDx0aXRsZT5Zb1NpblRWIC0gQ3JpY2tldCB8IEZvb3RiYWxsIHwgUGxheWluZyBYSSB8IE1hdGNoIFByZXZpZXc8L3RpdGxlPg0KICAgIDwhLS0gVXBkYXRlZCBzdGFuZGFyZCBDRE4gZm9yIFRhaWx3aW5kIENTUyAtLT4NCiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG4udGFpbHdpbmRjc3MuY29tIj48L3NjcmlwdD4NCiAgICA8bGluayBocmVmPScvZmF2aWNvLnBuZycgcmVsPSdpY29uJyB0eXBlPSdpbWFnZS94LWljb24nLz4NCiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vd3d3Lnlvc2ludHYubGluay9zdHlsZS5jc3MiPg0KDQogICAgPCEtLSBDUklUSUNBTCBGSVg6IEFkZGVkIC9hZHNieWdvb2dsZS5qcyB0byB0aGUgc291cmNlIFVSTCB0byBlbnN1cmUgdGhlIEFkU2Vuc2UgbGlicmFyeSBsb2FkcyBjb3JyZWN0bHkgLS0+DQogICAgPHNjcmlwdCBhc3luYyBzcmM9Imh0dHBzOi8vcGFnZWFkMi5nb29nbGVzeW5kaWNhdGlvbi5jb20vcGFnZWFkL2pzL2Fkc2J5Z29vZ2xlLmpzP2NsaWVudD1jYS1wdWItNTUyNTUzODgxMDgzOTE0NyIgY3Jvc3NvcmlnaW49ImFub255bW91cyI+PC9zY3JpcHQ+ICAgIA0KICAgIA0KPC9oZWFkPg0KPGJvZHkgY2xhc3M9ImJnLWdyYXktMTAwIHRleHQtZ3JheS05MDAiPg0KDQo8IS0tIEhlYWRlciBhbmQgTG9nbyAtLT4NCjxoZWFkZXI+DQogICAgPGRpdiBjbGFzcz0iaGVhZGVyLWNvbnRhaW5lciI+DQogICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vd3d3Lnlvc2luLXR2Lm5ldC8iPg0KICAgICAgICAgICAgPGltZyBzcmM9Imh0dHBzOi8vd2ViLmNyaWNmb290Lm5ldC9sb2dvLnBuZyIgYWx0PSJZb1NpblRWIiBzdHlsZT0iaGVpZ2h0OjY1cHg7Ij4NCiAgICAgICAgPC9hPg0KICAgICAgICA8bGFiZWwgY2xhc3M9InRvZ2dsZSI+DQogICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJkYXJrTW9kZVRvZ2dsZSI+DQogICAgICAgICAgICA8c3BhbiBjbGFzcz0ic2xpZGVyIj48L3NwYW4+DQogICAgICAgIDwvbGFiZWw+DQogICAgPC9kaXY+DQo8L2hlYWRlcj4NCg0KPG1haW4gc3R5bGU9InBhZGRpbmctdG9wOiA3OHB4OyI+DQogICAgPGNlbnRlciBjbGFzcz0ibXktMyI+DQogICAgICAgIDxpbnMgY2xhc3M9ImFkc2J5Z29vZ2xlIiBzdHlsZT0iZGlzcGxheTpibG9jayIgZGF0YS1hZC1jbGllbnQ9ImNhLXB1Yi01NTI1NTM4ODEwODM5MTQ3Ig0KICAgICAgICAgICAgZGF0YS1hZC1zbG90PSI0MzQ1ODYyNDc5IiBkYXRhLWFkLWZvcm1hdD0iYXV0byIgZGF0YS1mdWxsLXdpZHRoLXJlc3BvbnNpdmU9InRydWUiPjwvaW5zPg0KICAgICAgICA8c2NyaXB0PihhZHNieWdvb2dsZSA9IHdpbmRvdy5hZHNieWdvb2dsZSB8fCBbXSkucHVzaCh7fSk7PC9zY3JpcHQ+DQogICAgPC9jZW50ZXI+DQoNCiAgICA8ZGl2IGNsYXNzPSJtYXRjaC1zY2hlZHVsZS1jb250YWluZXIiPiANCiAgICAgICAgPGEgaHJlZj0iL2Zvb3RiYWxsLmh0bWw/YWRzPWxpbmsiIGNsYXNzPSJibGlua2luZy1kb3QtY29udGFpbmVyIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtZmxleDthbGlnbi1pdGVtczpjZW50ZXI7Z2FwOjEwcHg7Zm9udC1mYW1pbHk6QXJpYWwsc2Fucy1zZXJpZjtmb250LXNpemU6MTZweDtmb250LXdlaWdodDpib2xkO3RleHQtZGVjb3JhdGlvbjpub25lO2NvbG9yOiMzMzM7dHJhbnNpdGlvbjpjb2xvciAwLjNzIGVhc2U7d2lkdGg6MTAwJTttYXJnaW46MDtwYWRkaW5nOjEwcHggMDt0ZXh0LWFsaWduOmNlbnRlcjtib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym9yZGVyOjJweCBzb2xpZCAjMzMzO2JvcmRlci1yYWRpdXM6MTBweDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOyIgb25tb3VzZW92ZXI9InRoaXMuc3R5bGUuY29sb3I9JyNmZjAwMDAnIiBvbm1vdXNlb3V0PSJ0aGlzLnN0eWxlLmNvbG9yPScjMzMzJyI+PHNwYW4gc3R5bGU9IndpZHRoOjEwcHg7aGVpZ2h0OjEwcHg7YmFja2dyb3VuZC1jb2xvcjpyZWQ7Ym9yZGVyLXJhZGl1czo1MCU7YW5pbWF0aW9uOmJsaW5rIDFzIGluZmluaXRlOyI+PC9zcGFuPiBXYXRjaCBGb290YmFsbCBNYXRjaGVzOiBDbGljayBIZXJlPC9hPjxzdHlsZT5Aa2V5ZnJhbWVzIGJsaW5rezAle29wYWNpdHk6MX01MCV7b3BhY2l0eTowfTEwMCV7b3BhY2l0eToxfX08L3N0eWxlPg0KICAgICAgICA8aDIgY2xhc3M9ImxlYWd1ZS10aXRsZSI+IFVwY29taW5nIENyaWNrZXQgTWF0Y2hlczwvaDI+DQogICAgICAgIDxkaXYgaWQ9ImNyaWNrZXQtbGlzdCIgY2xhc3M9Im1hdGNoLXNjaGVkdWxlLWxpc3QiPg0KICAgICAgICAgICAgPCEtLSBNYXRjaCBjYXJkcyB3aWxsIGJlIGluc2VydGVkIGhlcmUuIFJlbW92ZWQgaW5pdGlhbCBsb2FkaW5nIHRleHQgZm9yIGEgbmF0dXJhbCBsb2FkLiAtLT4NCiAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgDQogICAgICAgIDxjZW50ZXIgY2xhc3M9Im15LTUiPg0KICAgICAgICAgICAgPGlucyBjbGFzcz0iYWRzYnlnb29nbGUiIHN0eWxlPSJkaXNwbGF5OmJsb2NrIiBkYXRhLWFkLWNsaWVudD0iY2EtcHViLTU1MjU1Mzg4MTA4MzkxNDciDQogICAgICAgICAgICAgICAgZGF0YS1hZC1zbG90PSI0MzQ1ODYyNDc5IiBkYXRhLWFkLWZvcm1hdD0iYXV0byIgZGF0YS1mdWxsLXdpZHRoLXJlc3BvbnNpdmU9InRydWUiPjwvaW5zPg0KICAgICAgICAgICAgPHNjcmlwdD4oYWRzYnlnb29nbGUgPSB3aW5kb3cuYWRzYnlnb29nbGUgfHwgW10pLnB1c2goe30pOzwvc2NyaXB0Pg0KICAgICAgICA8L2NlbnRlcj4NCiAgICA8L2Rpdj4NCg0KDQo8IS0tIERNQ0EgYW5kIEZvb3RlciBTZWN0aW9ucyAtLT4NCiAgICA8c2VjdGlvbiBjbGFzcz0iZG1jYS1zZWN0aW9uIj4NCiAgICAgICAgPGgyIGNsYXNzPSJ0ZXh0LTJ4bCBmb250LWJvbGQgbWItMyI+WW9TaW5UViAtIERNQ0EgTm90aWNlPC9oMj4NCiAgICAgICAgPHAgY2xhc3M9InRleHQtc20gbGVhZGluZy1yZWxheGVkIj5Zb1NpblRWIERvZXNuJ3QgaG9zdCBhbnkgbWVkaWEgY29udGVudCBvbiBpdCBvd24gU2l0ZS4gT3VyIHNpdGUgdmlzaXRvcnMgbWlnaHQgdXNlIGV4dGVybmFsIG9yIHRoaXJkIHBhcnRpZXMgc2VydmljZXMgdG8gc2hvdyBjb250ZW50LCAoRXhhbXBsZTogRW1iZWRkaW5nIG1lZGlhIGZyb20gc2l0ZXMgbGlrZSBCZXQzNjUsIERhaWx5bW90aW9uICwgU3RyZWFtYWJsZSBldGMgLi4pIFdlIE5vdGlmeSBhbGwgY29weXJpZ2h0IG93bmVycywgdG8gZGlzY292ZXIgdGhhdCB0aGUgbGlua3MgYW5kIG1lZGlhIHNoYXJlZCBieSB2aXNpdG9ycyBhbmQgY29udGFpbmVkIHdpdGhpbiB0aGlzIHNpdGUgYXJlIGhvc3RlZCBzb21ld2hlcmUgZWxzZSBvbiB0aGUgd2ViIG9yIGVtYmVkZGVkIGZyb20gb3RoZXIgdmFyaW91cyBzaXRlcyBsaWtlIGFib3ZlLjwvcD4NCiAgICA8L3NlY3Rpb24+DQoNCiAgICA8Zm9vdGVyIGNsYXNzPSJmb290ZXIgdGV4dC1zbSI+DQogICAgICAgIDxhIGhyZWY9IiNhYm91dCIgY2xhc3M9InRleHQtYmx1ZS02MDAgaG92ZXI6dW5kZXJsaW5lIG14LTIiPkFib3V0PC9hPiDigKINCiAgICAgICAgPGEgaHJlZj0iI2NvbnRhY3QiIGNsYXNzPSJ0ZXh0LWJsdWUtNjAwIGhvdmVyOnVuZGVybGluZSBteC0yIj5Db250YWN0PC9hPiDigKINCiAgICAgICAgPGEgaHJlZj0iI3ByaXZhY3kiIGNsYXNzPSJ0ZXh0LWJsdWUtNjAwIGhvdmVyOnVuZGVybGluZSBteC0yIj5Qcml2YWN5IFBvbGljeTwvYT4NCiAgICA8L2Zvb3Rlcj4NCjwvbWFpbj4NCg0KPHNjcmlwdD4NCiAgICBsZXQgYWxsTWF0Y2hlcyA9IFtdOw0KICAgIGxldCB1cGRhdGVJbnRlcnZhbElkOw0KDQogICAgLy8gRGFyayBNb2RlIExvZ2ljIChLZXB0IGZvciB1c2VyJ3MgcHJlZmVyZW5jZSkNCiAgICBjb25zdCB0b2dnbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGFya01vZGVUb2dnbGUnKTsNCiAgICAvLyBTZXQgaW5pdGlhbCBzdGF0ZQ0KICAgIGNvbnN0IHVwZGF0ZVRoZW1lID0gKGlzRGFyaykgPT4gew0KICAgICAgICBpZiAoaXNEYXJrKSB7DQogICAgICAgICAgICAgLy8gV2Ugb25seSBuZWVkIHRvIHRvZ2dsZSB0aGUgJ2RhcmsnIGNsYXNzIGhlcmUuDQogICAgICAgICAgICAgLy8gVGhlIHJlc3Qgb2YgdGhlIHN0eWxpbmcgaXMgaGFuZGxlZCBieSB0aGUgQ1NTIHVzaW5nIC5kYXJrIHByZWZpeC4NCiAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2RhcmsnLCAnYmctZ3JheS05MDAnLCAndGV4dC1ncmF5LTEwMCcpOw0KICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnYmctZ3JheS0xMDAnLCAndGV4dC1ncmF5LTkwMCcpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnZGFyaycsICdiZy1ncmF5LTkwMCcsICd0ZXh0LWdyYXktMTAwJyk7DQogICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdiZy1ncmF5LTEwMCcsICd0ZXh0LWdyYXktOTAwJyk7DQogICAgICAgIH0NCiAgICB9Ow0KDQogICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdkYXJrTW9kZScpID09PSAndHJ1ZScpIHsNCiAgICAgICAgdXBkYXRlVGhlbWUodHJ1ZSk7DQogICAgICAgIHRvZ2dsZS5jaGVja2VkID0gdHJ1ZTsNCiAgICB9IGVsc2Ugew0KICAgICAgICB1cGRhdGVUaGVtZShmYWxzZSk7DQogICAgfQ0KICAgIA0KICAgIHRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7DQogICAgICAgIGNvbnN0IGlzQ2hlY2tlZCA9IHRvZ2dsZS5jaGVja2VkOw0KICAgICAgICB1cGRhdGVUaGVtZShpc0NoZWNrZWQpOw0KICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZGFya01vZGUnLCBpc0NoZWNrZWQpOw0KICAgIH0pOw0KDQogICAgLyoqDQogICAgICogRm9ybWF0cyBhbiBJU08gZGF0ZSBzdHJpbmcgaW50byBhIHJlYWRhYmxlIGxvY2FsIHRpbWUgc3RyaW5nIChlLmcuLCA2OjMwIFBNKS4NCiAgICAgKiBUaGlzIGFsc28gcmVtb3ZlcyBhbnkgcmlzayBvZiBkaXNwbGF5aW5nICd1bmRlZmluZWQnLg0KICAgICAqLw0KICAgIGZ1bmN0aW9uIGZvcm1hdE1hdGNoVGltZShpc29TdHJpbmcpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShpc29TdHJpbmcpOw0KICAgICAgICAgICAgaWYgKGlzTmFOKGRhdGUpKSByZXR1cm4gJ1RpbWUgVEJEJzsNCg0KICAgICAgICAgICAgY29uc3QgdGltZU9wdGlvbnMgPSB7IGhvdXI6ICdudW1lcmljJywgbWludXRlOiAnMi1kaWdpdCcsIGhvdXIxMjogdHJ1ZSB9Ow0KICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KHVuZGVmaW5lZCwgdGltZU9wdGlvbnMpLmZvcm1hdChkYXRlKTsNCiAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgcmV0dXJuICdUaW1lIFRCRCc7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBVcGRhdGVzIHRoZSB0ZXh0IGNvbnRlbnQgYW5kIGNsYXNzIG9mIHRoZSBjb3VudGRvd24vc3RhdHVzIGVsZW1lbnRzIG9ubHkuDQogICAgICogVGhpcyBydW5zIGV2ZXJ5IHNlY29uZCB0byBwcmV2ZW50IGNvbnRpbnVvdXMgRE9NIHJlLXJlbmRlcmluZyAoZmxpY2tlcikuDQogICAgICovDQogICAgZnVuY3Rpb24gdXBkYXRlQ291bnRkb3duRGlzcGxheSgpIHsNCiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTsNCiAgICAgICAgDQogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tYXRjaC1zdGF0dXMnKS5mb3JFYWNoKGVsID0+IHsNCiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoZWwuZGF0YXNldC50aW1lKS5nZXRUaW1lKCk7DQogICAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IChwYXJzZUludChlbC5kYXRhc2V0LmR1cmF0aW9uKSB8fCAyKSAqIDM2MDAwMDA7DQogICAgICAgICAgICBjb25zdCBlbmQgPSBzdGFydCArIGR1cmF0aW9uOw0KDQogICAgICAgICAgICBpZiAobm93ID49IGVuZCkgew0KICAgICAgICAgICAgICAgIC8vIE1hdGNoIGlzIE92ZXIgKEZpbmFsIFRpbWUpDQogICAgICAgICAgICAgICAgZWwudGV4dENvbnRlbnQgPSAnRU5EJzsNCiAgICAgICAgICAgICAgICBpZiAoIWVsLmNsYXNzTGlzdC5jb250YWlucygnbWF0Y2gtc3RhdHVzLW92ZXInKSkgew0KICAgICAgICAgICAgICAgICAgICAgZWwuY2xhc3NOYW1lID0gJ21hdGNoLXN0YXR1cyBtYXRjaC1zdGF0dXMtb3Zlcic7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIGlmIChub3cgPj0gc3RhcnQpIHsNCiAgICAgICAgICAgICAgICAvLyBNYXRjaCBpcyBMaXZlDQogICAgICAgICAgICAgICAgZWwudGV4dENvbnRlbnQgPSAnTElWRSc7DQogICAgICAgICAgICAgICAgaWYgKCFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ21hdGNoLXN0YXR1cy1saXZlJykpIHsNCiAgICAgICAgICAgICAgICAgICAgZWwuY2xhc3NOYW1lID0gJ21hdGNoLXN0YXR1cyBtYXRjaC1zdGF0dXMtbGl2ZSc7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAvLyBNYXRjaCBpcyBVcGNvbWluZyAoQ291bnRkb3duKQ0KICAgICAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBzdGFydCAtIG5vdzsNCiAgICAgICAgICAgICAgICBjb25zdCBkID0gTWF0aC5mbG9vcihkaWZmIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKTsNCiAgICAgICAgICAgICAgICBjb25zdCBoID0gTWF0aC5mbG9vcigoZGlmZiAlICgxMDAwICogNjAgKiA2MCAqIDI0KSkgLyAoMTAwMCAqIDYwICogNjApKTsNCiAgICAgICAgICAgICAgICBjb25zdCBtID0gTWF0aC5mbG9vcigoZGlmZiAlICgxMDAwICogNjAgKiA2MCkpIC8gKDEwMDAgKiA2MCkpOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGxldCBjb3VudGRvd25UZXh0ID0gJyc7DQogICAgICAgICAgICAgICAgaWYgKGRpZmYgPCAwKSB7DQogICAgICAgICAgICAgICAgICAgICBjb3VudGRvd25UZXh0ID0gJ1N0YXJ0aW5nIFNvb24nOw0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgY291bnRkb3duVGV4dCA9IGAke2R9ZCAke2h9aGA7DQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICBjb3VudGRvd25UZXh0ID0gYCR7aH1oICR7bX1tYDsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBjb25zdCBzID0gTWF0aC5mbG9vcigoZGlmZiAlICgxMDAwICogNjApKSAvIDEwMDApOw0KICAgICAgICAgICAgICAgICAgICBjb3VudGRvd25UZXh0ID0gYCR7bX1tICR7c31zYDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgZWwudGV4dENvbnRlbnQgPSBjb3VudGRvd25UZXh0Ow0KICAgICAgICAgICAgICAgIGlmICghZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdtYXRjaC1zdGF0dXMtY291bnRkb3duJykpIHsNCiAgICAgICAgICAgICAgICAgICAgZWwuY2xhc3NOYW1lID0gJ21hdGNoLXN0YXR1cyBtYXRjaC1zdGF0dXMtY291bnRkb3duJzsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0NCg0KICAgIC8vIEdlbmVyYXRlcyB0aGUgbWF0Y2ggY2FyZCBIVE1MDQogICAgZnVuY3Rpb24gY3JlYXRlQ2FyZChtKSB7DQogICAgICAgIC8vIC0tLSBBZGRlZCBzYWZlIHByb3BlcnR5IGFjY2VzcyB0byBwcmV2ZW50ICd1bmRlZmluZWQnIC0tLQ0KICAgICAgICBjb25zdCBkZXRhaWxzVXJsID0gbS5kZXRhaWxzX3VybCB8fCAnIyc7DQogICAgICAgIGNvbnN0IGNvbXBldGl0aW9uID0gbS5jb21wZXRpdGlvbiB8fCAnJzsgLy8gVXNlIGVtcHR5IHN0cmluZyBhcyBmYWxsYmFjaw0KICAgICAgICBjb25zdCB0ZWFtMU5hbWUgPSBtLnRlYW0xIHx8ICdIb21lIFRlYW0gVEJEJzsNCiAgICAgICAgY29uc3QgdGVhbTJOYW1lID0gbS50ZWFtMiB8fCAnQXdheSBUZWFtIFRCRCc7DQogICAgICAgIA0KICAgICAgICBjb25zdCBwbGFjZWhvbGRlckltZyA9ICJodHRwczovL2Nkbi55b3NpbnR2LmxpbmsvY3JpY2tldC5wbmciOw0KICAgICAgICAvLyBVc2Ugc2FmZSBmYWxsYmFjayBmb3IgbG9nb3MgYXMgd2VsbA0KICAgICAgICBjb25zdCB0ZWFtMUxvZ28gPSBtLnRlYW0xX2xvZ28gfHwgcGxhY2Vob2xkZXJJbWc7DQogICAgICAgIGNvbnN0IHRlYW0yTG9nbyA9IG0udGVhbTJfbG9nbyB8fCBwbGFjZWhvbGRlckltZzsNCiAgICAgICAgDQogICAgICAgIGNvbnN0IGxvZ29PbkVycm9yID0gYHRoaXMub25lcnJvcj1udWxsO3RoaXMuc3JjPScke3BsYWNlaG9sZGVySW1nfSc7YDsNCiAgICAgICAgDQogICAgICAgIGNvbnN0IGxvY2FsVGltZSA9IGZvcm1hdE1hdGNoVGltZShtLnN0YXJ0IHx8IG0ubWF0Y2hfdGltZSk7DQoNCiAgICAgICAgLy8gQ29uZGl0aW9uYWwgcmVuZGVyaW5nIG9mIHRoZSBjb21wZXRpdGlvbiBoZWFkZXIgKE1hdGNoIERldGFpbHMgdGV4dCByZW1vdmVkKQ0KICAgICAgICAvLyBJZiBjb21wZXRpdGlvbiBpcyBlbXB0eSwgdGhlIGRpdiBpcyBub3QgcmVuZGVyZWQgYXQgYWxsLg0KICAgICAgICBjb25zdCBjb21wZXRpdGlvbkhlYWRlciA9IGNvbXBldGl0aW9uID8gDQogICAgICAgICAgICBgPGRpdiBjbGFzcz0ibWF0Y2gtaGVhZGVyIj4ke2NvbXBldGl0aW9ufTwvZGl2PmAgOiANCiAgICAgICAgICAgICcnOw0KDQogICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7DQogICAgICAgIGEuaHJlZiA9IGRldGFpbHNVcmw7IC8vIFVzZSBzYWZlIFVSTA0KICAgICAgICBhLmNsYXNzTmFtZSA9ICdtYXRjaC1jYXJkJzsNCiAgICAgICAgYS50YXJnZXQgPSAnX2JsYW5rJzsNCiAgICAgICAgYS5kYXRhc2V0LnRpbWUgPSBtLnN0YXJ0IHx8IG0ubWF0Y2hfdGltZTsNCiAgICAgICAgYS5kYXRhc2V0LmR1cmF0aW9uID0gbS5kdXJhdGlvbiB8fCAyOw0KICAgICAgICANCiAgICAgICAgYS5pbm5lckhUTUwgPSBgDQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaC1jYXJkLWNvbnRlbnQiPg0KICAgICAgICAgICAgICAgIDwhLS0gVG9wIFJvdzogQ29tcGV0aXRpb24vTWF0Y2ggRGF0ZSAoQ29udGV4dCkgLS0+DQogICAgICAgICAgICAgICAgJHtjb21wZXRpdGlvbkhlYWRlcn0NCg0KICAgICAgICAgICAgICAgIDwhLS0gTWlkZGxlIFJvdzogVGVhbXMgYW5kIFN0YXR1cyAoVGhlIG1haW4sIGNlbnRlcmVkIHJvdykgLS0+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2gtcm93LXRlYW1zIj4NCiAgICAgICAgICAgICAgICAgICAgPCEtLSBIb21lIFRlYW0gKExlZnQsIENvbnRlbnQgYWxpZ25lZCByaWdodCkgLS0+DQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1hdGNoLXRlYW0gaG9tZSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0ibWF0Y2gtdGVhbS1uYW1lIj4ke3RlYW0xTmFtZX08L3A+DQogICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz0iJHt0ZWFtMUxvZ299IiBhbHQ9IiR7dGVhbTFOYW1lfSIgb25lcnJvcj0iJHtsb2dvT25FcnJvcn0iPg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIDwhLS0gU3RhdHVzL0NlbnRlciAoVGltZSBhYm92ZSBDb3VudGRvd24pIC0tPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaC1jZW50ZXIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9Im1hdGNoLWxvY2FsLXRpbWUiPiR7bG9jYWxUaW1lfTwvcD4gDQogICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0ibWF0Y2gtc3RhdHVzIiBkYXRhLXRpbWU9IiR7bS5zdGFydCB8fCBtLm1hdGNoX3RpbWV9IiBkYXRhLWR1cmF0aW9uPSIke20uZHVyYXRpb24gfHwgMn0iPkxvYWRpbmcuLi48L3A+DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KDQogICAgICAgICAgICAgICAgICAgIDwhLS0gQXdheSBUZWFtIChSaWdodCwgQ29udGVudCBhbGlnbmVkIGxlZnQpIC0tPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaC10ZWFtIGF3YXkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9IiR7dGVhbTJMb2dvfSIgYWx0PSIke3RlYW0yTmFtZX0iIG9uZXJyb3I9IiR7bG9nb09uRXJyb3J9Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJtYXRjaC10ZWFtLW5hbWUiPiR7dGVhbTJOYW1lfTwvcD4NCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgYDsNCiAgICAgICAgcmV0dXJuIGE7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQ3JlYXRlcyB0aGUgbW9iaWxlLW9ubHkgYWQgZWxlbWVudCB3aXRoIHRoZSB1c2VyLXNwZWNpZmllZCBzbG90IElELg0KICAgICAqIFVQREFURUQgdG8gdXNlIHRoZSAzMjB4NTAgZml4ZWQgc2l6ZSBhZCB1bml0IChzbG90IDgzODE5MDA3MDMpLg0KICAgICAqLw0KICAgIGZ1bmN0aW9uIGNyZWF0ZUFkRWxlbWVudCgpIHsNCiAgICAgICAgY29uc3QgYWRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCiAgICAgICAgLy8gJ2Jsb2NrIG1kOmhpZGRlbicgZW5zdXJlcyBpdCBvbmx5IGRpc3BsYXlzIG9uIG1vYmlsZSBzY3JlZW5zICh1cCB0byA3NjhweCkuDQogICAgICAgIC8vIEFkZGVkIGZsZXgganVzdGlmeS1jZW50ZXIgdG8gcHJvcGVybHkgY2VudGVyIHRoZSBmaXhlZCAzMjBweCBhZC4NCiAgICAgICAgYWRDb250YWluZXIuY2xhc3NOYW1lID0gJ215LTUgZmxleCBqdXN0aWZ5LWNlbnRlciBibG9jayBtZDpoaWRkZW4nOyANCiAgICAgICAgcmV0dXJuIGFkQ29udGFpbmVyOw0KICAgIH0NCg0KICAgIC8vIFVQREFURUQ6IEluc2VydHMgbW9iaWxlIGFkcyBhZnRlciBldmVyeSAzcmQgY2FyZC4NCiAgICBmdW5jdGlvbiByZW5kZXJNYXRjaGVzKCkgew0KICAgICAgICBjb25zdCBsaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NyaWNrZXQtbGlzdCcpOw0KICAgICAgICBsaXN0LmlubmVySFRNTCA9ICcnOyANCiAgICAgICAgDQogICAgICAgIGFsbE1hdGNoZXMuZm9yRWFjaCgobWF0Y2gsIGluZGV4KSA9PiB7DQogICAgICAgICAgICAvLyAxLiBBcHBlbmQgdGhlIG1hdGNoIGNhcmQNCiAgICAgICAgICAgIGxpc3QuYXBwZW5kQ2hpbGQoY3JlYXRlQ2FyZChtYXRjaCkpOw0KDQogICAgICAgICAgICAvLyAyLiBDaGVjayBpZiBpdCdzIHRoZSAzcmQsIDZ0aCwgOXRoLCBldGMuIGNhcmQsIGFuZCBub3QgdGhlIGxhc3QgY2FyZA0KICAgICAgICAgICAgaWYgKChpbmRleCArIDEpICUgMCA9PT0gMCAmJiBpbmRleCA8IGFsbE1hdGNoZXMubGVuZ3RoIC0gMSkgeyANCiAgICAgICAgICAgICAgICBjb25zdCBhZEVsZW1lbnQgPSBjcmVhdGVBZEVsZW1lbnQoKTsNCiAgICAgICAgICAgICAgICBsaXN0LmFwcGVuZENoaWxkKGFkRWxlbWVudCk7DQoNCiAgICAgICAgICAgICAgICAvLyBOb3csIHB1c2ggdGhlIGFkIHRvIEFkU2Vuc2Ugc28gaXQgY2FuIHJlcXVlc3QgY29udGVudA0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICh3aW5kb3cuYWRzYnlnb29nbGUgPSB3aW5kb3cuYWRzYnlnb29nbGUgfHwgW10pLnB1c2goe30pOw0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiQWRTZW5zZSBwdXNoIGZhaWxlZDoiLCBlKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0NCiAgICANCiAgICAvKioNCiAgICAgKiBDYWxjdWxhdGVzIHNvcnQgcHJpb3JpdHksIHNvcnRzIHRoZSBtYXRjaGVzIGFycmF5LCBhbmQgcmVuZGVycyB0aGUgbGlzdCBvbmNlLg0KICAgICAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uIGluaXRpYWwgbG9hZC4NCiAgICAgKi8NCiAgICBmdW5jdGlvbiBzb3J0QW5kSW5pdGlhbFJlbmRlcihtYXRjaGVzQXJyYXkpIHsNCiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTsNCiAgICAgICAgDQogICAgICAgIC8vIDEuIENhbGN1bGF0ZSBzb3J0aW5nIHByaW9yaXR5IGFuZCB2YWx1ZQ0KICAgICAgICBhbGxNYXRjaGVzID0gbWF0Y2hlc0FycmF5Lm1hcChtID0+IHsNCiAgICAgICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IG5ldyBEYXRlKG0uc3RhcnQgfHwgbS5tYXRjaF90aW1lKS5nZXRUaW1lKCk7DQogICAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IChwYXJzZUludChtLmR1cmF0aW9uKSB8fCAyKSAqIDM2MDAwMDA7IA0KICAgICAgICAgICAgY29uc3QgZW5kVGltZSA9IHN0YXJ0VGltZSArIGR1cmF0aW9uOw0KICAgIA0KICAgICAgICAgICAgaWYgKG5vdyA+PSBzdGFydFRpbWUgJiYgbm93IDwgZW5kVGltZSkgew0KICAgICAgICAgICAgICAgIG0uc29ydFByaW9yaXR5ID0gMTsgLy8gTGl2ZS9Jbi1Qcm9ncmVzcw0KICAgICAgICAgICAgICAgIG0uc29ydFZhbHVlID0gc3RhcnRUaW1lOyANCiAgICAgICAgICAgIH0gZWxzZSBpZiAobm93IDwgc3RhcnRUaW1lKSB7DQogICAgICAgICAgICAgICAgbS5zb3J0UHJpb3JpdHkgPSAyOyAvLyBVcGNvbWluZw0KICAgICAgICAgICAgICAgIG0uc29ydFZhbHVlID0gc3RhcnRUaW1lOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBtLnNvcnRQcmlvcml0eSA9IDM7IC8vIEZpbmlzaGVkDQogICAgICAgICAgICAgICAgbS5zb3J0VmFsdWUgPSBlbmRUaW1lOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIG07DQogICAgICAgIH0pOw0KICAgIA0KICAgICAgICAvLyAyLiBTb3J0IHRoZSBhcnJheQ0KICAgICAgICBhbGxNYXRjaGVzLnNvcnQoKGEsIGIpID0+IHsNCiAgICAgICAgICAgIGlmIChhLnNvcnRQcmlvcml0eSAhPT0gYi5zb3J0UHJpb3JpdHkpIHJldHVybiBhLnNvcnRQcmlvcml0eSAtIGIuc29ydFByaW9yaXR5Ow0KICAgICAgICAgICAgcmV0dXJuIGEuc29ydFZhbHVlIC0gYi5zb3J0VmFsdWU7IA0KICAgICAgICB9KTsNCiAgICANCiAgICAgICAgLy8gMy4gUmVuZGVyIHRoZSBmdWxsIG1hdGNoIGxpc3Qgc3RydWN0dXJlIG9uY2UNCiAgICAgICAgcmVuZGVyTWF0Y2hlcygpOyANCiAgICB9DQoNCiAgICAvLyBMb2FkcyBkYXRhIGZyb20gdGhlIEFQSSBhbmQgaW5pdGlhdGVzIHJlbmRlcmluZw0KICAgIGFzeW5jIGZ1bmN0aW9uIGxvYWRNYXRjaGVzKCkgew0KICAgICAgICBpZiAodXBkYXRlSW50ZXJ2YWxJZCkgY2xlYXJJbnRlcnZhbCh1cGRhdGVJbnRlcnZhbElkKTsgDQoNCiAgICAgICAgLy8gVVBEQVRFRDogQ2hhbmdlZCBBUEkgZW5kcG9pbnQgdG8gZm9vdGJhbGwuanNvbg0KICAgICAgICBjb25zdCBhcGlVcmwgPSAnaHR0cHM6Ly95b3NpbnR2LWFwaS5wYWdlcy5kZXYvYXBpL2NyaWNrZXQuanNvbic7IA0KICAgICAgICBjb25zdCBsaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NyaWNrZXQtbGlzdCcpOw0KICAgICAgICAvLyBSZW1vdmVkIGV4cGxpY2l0IGxvYWRpbmcgbWVzc2FnZSBmb3IgbmF0dXJhbCBsb2FkaW5nIGJlaGF2aW9yDQogICAgICAgIGxpc3QuaW5uZXJIVE1MID0gJyc7IA0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChhcGlVcmwpOw0KICAgICAgICAgICAgaWYgKCFyZXMub2spIHsNCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFQSSBmYWlsZWQgd2l0aCBzdGF0dXM6ICR7cmVzLnN0YXR1c30uYCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpOw0KICAgICAgICAgICAgbGV0IG1hdGNoZXNBcnJheSA9IFtdOw0KDQogICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSAmJiBkYXRhLmxlbmd0aCA+IDAgJiYgQXJyYXkuaXNBcnJheShkYXRhWzBdPy5tYXRjaGVzKSkgew0KICAgICAgICAgICAgICAgIG1hdGNoZXNBcnJheSA9IGRhdGFbMF0ubWF0Y2hlczsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YSAmJiBBcnJheS5pc0FycmF5KGRhdGEubWF0Y2hlcykpIHsNCiAgICAgICAgICAgICAgICBtYXRjaGVzQXJyYXkgPSBkYXRhLm1hdGNoZXM7DQogICAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHsNCiAgICAgICAgICAgICAgICAgbWF0Y2hlc0FycmF5ID0gZGF0YTsNCiAgICAgICAgICAgIH0gDQoNCiAgICAgICAgICAgIGlmIChtYXRjaGVzQXJyYXkubGVuZ3RoID09PSAwKSB7DQogICAgICAgICAgICAgICAgbGlzdC5pbm5lckhUTUwgPSAnPHAgY2xhc3M9InRleHQtY2VudGVyIHRleHQteGwgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktNTAwIHB5LTEwIj5ObyB1cGNvbWluZyBtYXRjaGVzIGZvdW5kLjwvcD4nOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8gSW5pdGlhbCBzb3J0IGFuZCByZW5kZXINCiAgICAgICAgICAgIHNvcnRBbmRJbml0aWFsUmVuZGVyKG1hdGNoZXNBcnJheSk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIFN0YXJ0IHRoZSBub24tZmxpY2tlcmluZyBjb3VudGRvd24gdGltZXIgKHJ1bnMgZXZlcnkgc2Vjb25kKQ0KICAgICAgICAgICAgdXBkYXRlQ291bnRkb3duRGlzcGxheSgpOw0KICAgICAgICAgICAgdXBkYXRlSW50ZXJ2YWxJZCA9IHNldEludGVydmFsKHVwZGF0ZUNvdW50ZG93bkRpc3BsYXksIDEwMDApOw0KICAgICAgICAgICAgDQogICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGxvYWRpbmcgbWF0Y2hlczogJHtlLm1lc3NhZ2V9YCk7DQogICAgICAgICAgICBsaXN0LmlubmVySFRNTCA9ICc8cCBjbGFzcz0idGV4dC1jZW50ZXIgdGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtcmVkLTYwMCBweS0xMCI+4p2MIEZhaWxlZCB0byBsb2FkIHNjaGVkdWxlLiBDaGVjayB0aGUgQVBJIG9yIHlvdXIgY29ubmVjdGlvbi48L3A+JzsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgIH0NCg0KDQogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGxvYWRNYXRjaGVzKTsNCjwvc2NyaXB0Pg0KDQogIDxzY3JpcHQgc3JjPSJodHRwczovL2NvZGUuanF1ZXJ5LmNvbS9qcXVlcnktMy42LjAubWluLmpzIj48L3NjcmlwdD4NCiAgPGRpdiBpZD0nZml4ZWRiYW4nIGNsYXNzPSdmaXhlZCBib3R0b20tMCBsZWZ0LTEvMiAtdHJhbnNsYXRlLXgtMS8yIHotWzk5OV0nPg0KICAgIDxkaXYgY2xhc3M9J3JlbGF0aXZlIHctWzMwMHB4XSBoLVsyNTBweF0gYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3cteGwgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCc+DQogICAgICA8YnV0dG9uIGlkPSdjbG9zZS1maXhlZGJhbicgY2xhc3M9J2Fic29sdXRlIGxlZnQtMS8yIC10cmFuc2xhdGUteC0xLzIgdG9wLTMgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWJsdWUtNjAwIGhvdmVyOnRleHQtYmx1ZS04MDAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIGN1cnNvci1wb2ludGVyIHotWzEwMDBdJz5DbG9zZTwvYnV0dG9uPg0KICAgICAgPGRpdiBjbGFzcz0ndy1bMzAwcHhdIGgtWzI1MHB4XSBvdmVyZmxvdy1oaWRkZW4gcHQtOCc+DQogICAgICAgIDxpbnMgY2xhc3M9J2Fkc2J5Z29vZ2xlIGlubGluZS1ibG9jayB3LVszMDBweF0gaC1bMjUwcHhdJyBkYXRhLWFkLWNsaWVudD0nY2EtcHViLTU1MjU1Mzg4MTA4MzkxNDcnIGRhdGEtYWQtc2xvdD0nNTkxMjE5NDAwNCc+PC9pbnM+DQogICAgICAgIDxzY3JpcHQ+KGFkc2J5Z29vZ2xlID0gd2luZG93LmFkc2J5Z29vZ2xlIHx8IFtdKS5wdXNoKHt9KTs8L3NjcmlwdD4NCiAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KICA8L2Rpdj4NCiAgICANCiAgPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPg0KICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkgew0KICAgICAgJCgnI2Nsb3NlLWZpeGVkYmFuJykuY2xpY2soZnVuY3Rpb24oKSB7ICQoJyNmaXhlZGJhbicpLmhpZGUoOTApOyB9KTsNCiAgICB9KTsNCiAgPC9zY3JpcHQ+DQoNCg0KPCEtLSBUZWxlZ3JhbSBQb3B1cCAtIFplcm8gY29uZmxpY3RzIHdpdGggeW91ciBleGlzdGluZyBDU1MgLS0+DQo8ZGl2IGNsYXNzPSJ0Z3gtcG9wdXAtb3ZlcmxheSIgaWQ9InRneFBvcHVwIj4NCiAgPGRpdiBjbGFzcz0idGd4LXBvcHVwLWJveCI+DQogICAgPGJ1dHRvbiBjbGFzcz0idGd4LWNsb3NlLWJ0biIgb25jbGljaz0iY2xvc2VUZ3hQb3B1cCgpIj7DlzwvYnV0dG9uPg0KDQogICAgPGRpdiBjbGFzcz0idGd4LWljb24iPg0KICAgICAgPHN2ZyB2aWV3Qm94PSIwIDAgMjQwIDI0MCIgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiBmaWxsPSJ3aGl0ZSI+DQogICAgICAgIDxjaXJjbGUgY3g9IjEyMCIgY3k9IjEyMCIgcj0iMTIwIi8+DQogICAgICAgIDxwYXRoIGQ9Ik04MS4yIDE3NC4zYy01LjQgMC0yLjctMi03LjMtNi40bC0xOC40LTYwLjUgMTI3LjMtNDkuMWM4IDMuNSAxMi4yIDEuOSAxNC01LjhsMjIuNy0xMDYuOWMzLjEtMTMuOC00LjctMjAuMS0xMi43LTE2LjZMNTcuOSAxMDUuOCAzNi4yIDk5Yy05LjctMy05LjktOS43IDEuMi0xNC42bDEzMS4yLTUwLjdjMTEuMi00LjYgMjEuMiAyLjggMTcuMSAxNC42bC0yMi40IDEwNi45Yy0xLjYgNy42LTYgOS40LTEzLjggNS44TDk3LjYgMTUybC05LjkgOS45Yy0zLjMgMy4zLTYgNi40LTYuNSA4LjR6IiBmaWxsPSIjMDA4OGNjIi8+DQogICAgICA8L3N2Zz4NCiAgICA8L2Rpdj4NCg0KICAgIDxoMiBjbGFzcz0idGd4LXRpdGxlIj5Kb2luIFlvU2luVFYgVGVsZWdyYW0gTm93ITwvaDI+DQogICAgPHAgY2xhc3M9InRneC10ZXh0Ij5NYXRjaCB1cGRhdGVzLCBuZXdzICYgaGlnaGxpZ2h0cyA8L3A+DQoNCiAgICA8YSBocmVmPSJodHRwczovL3QubWUveW9zaW50dmxpdmUiIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0idGd4LWpvaW4tYnRuIj4NCiAgICAgIENsaWNrIHRvIEpvaW4gQ2hhbm5lbA0KICAgIDwvYT4NCiAgPC9kaXY+DQo8L2Rpdj4NCg0KPHNjcmlwdD4NCiAgY29uc3QgdGd4UG9wdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGd4UG9wdXAnKTsNCiAgY29uc3QgU1RPUkFHRV9LRVkgPSAndGd4UG9wdXBMYXN0U2hvd24nOw0KICBjb25zdCBPTkVfREFZX01TID0gMjQgKiA2MCAqIDYwICogMTAwMDsgLy8gMjQgaG91cnMgaW4gbWlsbGlzZWNvbmRzDQoNCiAgZnVuY3Rpb24gc2hvdWxkU2hvd1BvcHVwKCkgew0KICAgIGNvbnN0IGxhc3RTaG93biA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfS0VZKTsNCiAgICBpZiAoIWxhc3RTaG93bikgcmV0dXJuIHRydWU7IC8vIG5ldmVyIHNlZW4NCiAgICBjb25zdCB0aW1lRGlmZiA9IERhdGUubm93KCkgLSBwYXJzZUludChsYXN0U2hvd24pOw0KICAgIHJldHVybiB0aW1lRGlmZiA+PSBPTkVfREFZX01TOyAvLyBzaG93IGFnYWluIG9ubHkgYWZ0ZXIgMjRoDQogIH0NCg0KICBmdW5jdGlvbiBtYXJrQXNTaG93bigpIHsNCiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWSwgRGF0ZS5ub3coKS50b1N0cmluZygpKTsNCiAgfQ0KDQogIGZ1bmN0aW9uIGNsb3NlVGd4UG9wdXAoKSB7DQogICAgdGd4UG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgndGd4LWFjdGl2ZScpOw0KICAgIG1hcmtBc1Nob3duKCk7IC8vIHVzZXIgY2xvc2VkIOKGkiBkb24ndCBzaG93IGZvciAyNCBob3Vycw0KICB9DQoNCiAgLy8gQXV0by1zaG93IGxvZ2ljDQogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkgew0KICAgIGlmIChzaG91bGRTaG93UG9wdXAoKSkgew0KICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgIHRneFBvcHVwLmNsYXNzTGlzdC5hZGQoJ3RneC1hY3RpdmUnKTsNCiAgICAgICAgbWFya0FzU2hvd24oKTsgLy8gY291bnQgYXMgInNlZW4iIGV2ZW4gaWYgdGhleSBkb24ndCBjbGljayBYIChvcHRpb25hbCkNCiAgICAgIH0sIDEyMDApOw0KICAgIH0NCiAgfSk7DQoNCiAgLy8gQ2xvc2Ugd2hlbiBjbGlja2luZyBvdXRzaWRlDQogIHRneFBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsNCiAgICBpZiAoZS50YXJnZXQgPT09IHRneFBvcHVwKSBjbG9zZVRneFBvcHVwKCk7DQogIH0pOw0KPC9zY3JpcHQ+DQogICAgDQo8IS0tIEJFR0lOOiBQb3dlcmVkIGJ5IFN1cGVyY291bnRlcnMuY29tIC0tPg0KICAgICAgPGRpdiBzdHlsZT0icG9zaXRpb246Zml4ZWQ7dG9wOjA7bGVmdDowO3dpZHRoOjEwMCU7aGVpZ2h0OjFweDtvdmVyZmxvdzpoaWRkZW47dmlzaWJpbGl0eTpoaWRkZW47ei1pbmRleDo5OTk5OyI+DQogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iLy93aWRnZXQuc3VwZXJjb3VudGVycy5jb20vc3NsL29ubGluZV9pLmpzIj48L3NjcmlwdD4NCiAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+c2Nfb25saW5lX2koMTcxNDQ0NiwiZmZmZmZmIiwiZmZmZmZmIik7PC9zY3JpcHQ+DQogICAgPG5vc2NyaXB0PjxhIGhyZWY9Imh0dHBzOi8vd3d3LnN1cGVyY291bnRlcnMuY29tLyIgc3R5bGU9InZpc2liaWxpdHk6aGlkZGVuOyI+ZnJlZSBvbmxpbmUgY291bnRlcjwvYT48L25vc2NyaXB0Pg0KICA8L2Rpdj4NCiAgICANCjwvYm9keT4NCjwvaHRtbD4NCg== "))));</script>
